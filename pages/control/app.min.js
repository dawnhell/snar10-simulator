(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
(function (global){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var _angular = (typeof window !== "undefined" ? window['angular'] : typeof global !== "undefined" ? global['angular'] : null);

var _angular2 = _interopRequireDefault(_angular);

exports["default"] = _angular2["default"].module("about", []).config(function ($stateProvider) {
    $stateProvider.state("about", {
        template: require("./template.html"),
        url: "/about"
    });
});
module.exports = exports["default"];

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./template.html":2}],2:[function(require,module,exports){
module.exports = "<div class=\"about-body\">\n    <div class=\"about-content\">\n        <div class=\"about-header\">\n            <h1>Справка</h1>\n\n            <h2>Виртуальный тренажер наземной навигационной аппаратуры КШМ на базе МТЛБу</h2>\n        </div>\n        <div class=\"about-description\">\n            <h2>Описание:</h2>\n        <pre>\n            Виртуальный тренажер наземной навигационной аппаратуры\n            предназначен для приобретения навыков работы с приборами\n            КП-4 (1В44) и гирокурсоуказателя (1Т121-1).\n\n            Для работы используются 2 режима: \"Контроль\" и \"Тренировка\".\n\n            В режиме \"Тренировка\" обучающийся может ознакомится с\n            последовательностью действий и приборным составом.\n\n            В режиме \"Контроль\" проверяются и оцениваются полученные навыки.\n        </pre>\n        </div>\n        <div class=\"about-developers\">\n            <ul>\n                <li><p>Разработчики:</p></li>\n                <li>Делендик И.В.</li>\n                <li>Степанищев А.Э.</li>\n\n                <li><p>Руководитель:</p></li>\n                <li>Филистович Д.В</li>\n            </ul>\n        </div>\n        <div class=\"back-link pull-left pull-bottom\">\n            <a ui-sref=\"menu\">&#10092 Вернуться к Меню</a>\n        </div>\n    </div>\n</div>\n";

},{}],3:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var ExaminerService = (function () {
    function ExaminerService(t121, b44, $mdDialog, $timeout) {
        _classCallCheck(this, ExaminerService);

        this.t121 = t121;
        this.b44 = b44;
        this.dialog = $mdDialog;
        this.timeout = $timeout;
        var self = this;

        this.reset();
    }

    _createClass(ExaminerService, [{
        key: "reset",
        value: function reset() {
            var self = this;
            this.errorsNumber = 0;
            this.steps = [{
                id: "t121-step1.0",
                instruction: "На ПУ ГКУ потецниометром УСТАНОВКА ШИРОТЫ установить значение широты точки стояния, взятое с карты.",
                test: function test() {
                    return this.knobControls.latitude.value === this.formularyValues.latitude;
                }
            }, {
                id: "t121-step2.0",
                instruction: "Проверить установку формулярных значений потенциометра ПОПРАВКА НА ТРЕНИЕ(верхний), при необходимости выставить их значения.",
                test: function test() {
                    return this.knobControls.frictionErrorPositive.value === this.formularyValues.frictionErrorPositive;
                }
            }, {
                id: "t121-step2.1",
                instruction: "Проверить установку формулярных значений потенциометра ПОПРАВКА НА ТРЕНИЕ(нижний), при необходимости выставить их значения.",
                test: function test() {
                    return this.knobControls.frictionErrorNegative.value === this.formularyValues.frictionErrorNegative;
                }
            }, {
                id: "t121-step3.0",
                instruction: "Проверить установку формулярного значения потенциометра ЭЛ.БАЛАНСИРОВКА при необходимости выставить формулярное значение.",
                test: function test() {
                    return this.knobControls.balance.value === this.formularyValues.balance;
                }
            }, Object.defineProperties({
                id: "t121-step4.0",

                test: function test() {
                    return this.isHeatingNeeded ? this.toggles.heating.isEnabled : !this.toggles.heating.isEnabled;
                }
            }, {
                instruction: {
                    get: function get() {
                        return self.t121.isHeatingNeeded ? "Включить тумблер обогрев, если температура окружающей среды ниже 0 градусов." : "Отключить тумблер обогрева";
                    },
                    configurable: true,
                    enumerable: true
                }
            }), {
                id: "t121-step5.0",
                instruction: "Включить тумблем ПРЕОБРАЗОВ.",
                test: function test() {
                    return this.toggles.transformer.isEnabled;
                }
            }, {
                id: "t121-step6.0",
                instruction: "Тумблер РАБОТА - СТОПОР установить в положение РАБОТА.",
                test: function test() {
                    return this.toggles.work.isEnabled;
                }
            }, {
                id: "t121-step7.0",
                instruction: "Включить тумблер КОНТРОЛЬ.",
                test: function test() {
                    return this.toggles.control.isEnabled;
                }
            }, {
                id: "t121-step8.0",
                instruction: "Включить тумблер ГИРОСКОП.",
                test: function test() {
                    return this.toggles.gyroscope.isEnabled;
                }
            }, {
                id: "t121-step9.0",
                instruction: "Зафиксировать время включения тумблера ГИРОСКОП.",
                test: function test() {
                    return this.toggles.gyroscope.enabledTime;
                }
            }, {
                id: "t121-step10.0",
                instruction: "Перейти к КП-4.",
                test: function test() {
                    return true;
                }
            }, {
                id: "b44-step1.0",
                instruction: "Выставить карту на КП-4.",
                test: function test() {
                    return this.isMapSetted;
                }
            }, {
                id: "b44-step2.0",
                instruction: "На карте, с помощью ручек боковых панелей КП-4, установить карандаш в начало квадрата места стояния машины.",
                test: function test() {
                    var error = 50;
                    var errorX = Math.abs(this.pencil.x.value - rounded(this.coordinates.x));
                    var errorY = Math.abs(this.pencil.y.value - rounded(this.coordinates.y));

                    return errorX < error && errorY < error;
                }
            }, {
                id: "b44-step3.0",
                instruction: "На левой боковой панели КП-4 выставить масташ соответствующий мастшабу карты.",
                test: function test() {
                    return this.scale === "1 : 50000";
                }
            }, {
                id: "b44-step4.0",
                instruction: "Открыть защитную крышку счетчика КООРДИНАТЫ X.",
                test: function test() {
                    return this.buttonsHandlers.x.isOpened;
                }
            }, {
                id: "b44-step5.0",
                instruction: "Открыть защитную крышку счетчика КООРДИНАТЫ Y.",
                test: function test() {
                    return this.buttonsHandlers.y.isOpened;
                }
            }, {
                id: "b44-step6.0",
                instruction: "Выставить значение счетчика КООРДИНАТЫ X в соответствии с координатой X карандаша на карте.",
                test: function test() {
                    return this.counters.x === rounded(this.coordinates.x);
                }
            }, {
                id: "b44-step7.0",
                instruction: "Выставить значение счетчика КООРДИНАТЫ Y в соответствии с координатой Y карандаша на карте.",
                test: function test() {
                    return this.counters.y === rounded(this.coordinates.y);
                }
            }, {
                id: "b44-step8.0",
                instruction: "Закрыть защитную крышку счетчика КООРДИНАТЫ Y.",
                test: function test() {
                    removeStep("b44-step5.0");
                    return !this.buttonsHandlers.y.isOpened;
                }
            }, {
                id: "b44-step9.0",
                instruction: "Закртыь защитную крышку счетчика КООРДИНАТЫ X.",
                test: function test() {
                    removeStep("b44-step4.0");
                    return !this.buttonsHandlers.x.isOpened;
                }
            }, {
                id: "b44-step10.0",
                instruction: "Открыть защитную крышку счетчика ПУТЬ.",
                test: function test() {
                    return this.buttonsHandlers.path.isOpened;
                }
            }, {
                id: "b44-step11.0",
                instruction: "Выставить значение счетчика ПУТЬ ровное нулю.",
                test: function test() {
                    return this.counters.path === 0;
                }
            }, {
                id: "b44-step12.0",
                instruction: "Закрыть защитную крышку счетчика ПУТЬ.",
                test: function test() {
                    removeStep("b44-step10.0");
                    return !this.buttonsHandlers.path.isOpened;
                }
            }, {
                id: "b44-step13.0",
                instruction: "С помощью ручек передней панели КП-4 довести значения счетчиков КООРДИНАТ X и Y до значений координат X и Y места стояния машины",
                test: function test() {
                    removeStep("b44-step2.0");
                    removeStep("b44-step6.0");
                    removeStep("b44-step7.0");
                    return this.counters.x === this.coordinates.x && this.counters.y === this.coordinates.y;
                }
            }, {
                id: "b44-step14.0",
                instruction: "Установить дирекционный угол на КП в соответствии с дирекционным углом оси машины",
                test: function test() {
                    return this.rightAngle.value == this.angle.value;
                }
            }, {
                id: "b44-step15.0",
                instruction: "Установить КОЭФ. КОРР. в соответствии с формулярными значениями КОЭФ. КОРР. для ДДС",
                test: function test() {
                    return this.rightCorrection === this.correction;
                }
            }, {
                id: "b44-step16.0",
                instruction: "Переключить тумблер ПУТЬ в положение ВКЛ",
                test: function test() {
                    return this.path === "ВКЛ";
                }
            }, {
                id: "b44-step17.0",
                instruction: "Зафиксировать время окончания работы",
                test: function test() {
                    if (this.finishedTime) {
                        self.showModalDialog();
                        return true;
                    } else {
                        return false;
                    }
                }
            }, {
                id: "b44-step17.0",
                instruction: "",
                test: function test() {
                    return true;
                }
            }];

            function removeStep(stepId) {
                self.steps.forEach(function (element) {
                    if (element.id == stepId) {
                        element.test = function () {
                            return true;
                        };
                    }
                });
            }

            function rounded(value) {
                return Math.floor(value / 1000) * 1000;
            }

            this.currentStep = this.steps[0];
            this.nextStep = this.steps[1];
        }
    }, {
        key: "nextStepTo",
        value: function nextStepTo(stepId) {
            var _this = this;

            this.timeout(function () {
                if (_this.currentStep.id === stepId) {
                    if (_this.isStepTestSuccess(_this.currentStep)) {
                        _this.updateCurrentStep();
                        _this.updateNextStep();
                    }
                }
            });
        }
    }, {
        key: "updateCurrentStep",
        value: function updateCurrentStep() {
            this.currentStep = this.nextStep;
        }
    }, {
        key: "updateNextStep",
        value: function updateNextStep() {
            var nextStepIndex = this.steps.indexOf(this.nextStep);
            var updatedNextStepIndex = nextStepIndex + 1;

            this.nextStep = this.steps[updatedNextStepIndex];
        }
    }, {
        key: "isStepTestSuccess",
        value: function isStepTestSuccess(step) {
            //return true;
            if (step.id.indexOf("t121") !== -1) {
                return step.test.apply(this.t121);
            } else {
                return step.test.apply(this.b44);
            }
        }
    }, {
        key: "testAllBefore",
        value: function testAllBefore(stepId) {
            var i = 0;
            var step = this.steps[i];

            while (step.id !== stepId) {
                if (!this.isStepTestSuccess(step)) {
                    this.errorsNumber++;
                    this.showAlert(step.instruction);
                    return false;
                }
                ++i;
                step = this.steps[i];
            }

            return true;
        }
    }, {
        key: "isTrainingMode",
        value: function isTrainingMode() {
            return this.mode === 'training';
        }
    }, {
        key: "showModalDialog",
        value: function showModalDialog() {
            var alert = this.dialog.alert().title("Тренировка окончена!").content("Количество ошибок: " + this.errorsNumber).ok('Закрыть');

            this.dialog.show(alert)["finally"](function () {
                alert = undefined;
            });
        }
    }, {
        key: "showAlert",
        value: function showAlert(instruction) {
            var alert = this.dialog.alert().title("⚠ Неверное действие! ⚠").content("Необходимо выполнить шаг:<br/>" + instruction).ok('Продолжить');

            this.dialog.show(alert)["finally"](function () {
                alert = undefined;
            });
        }
    }]);

    return ExaminerService;
})();

exports["default"] = ExaminerService;
module.exports = exports["default"];

},{}],4:[function(require,module,exports){
(function (global){
"use strict";

Object.defineProperty(exports, "__esModule", {
        value: true
});

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var _angular = (typeof window !== "undefined" ? window['angular'] : typeof global !== "undefined" ? global['angular'] : null);

var _angular2 = _interopRequireDefault(_angular);

var _aboutIndex = require("./about/index");

var _aboutIndex2 = _interopRequireDefault(_aboutIndex);

var _menuIndex = require("./menu/index");

var _menuIndex2 = _interopRequireDefault(_menuIndex);

var _mouseClickAndHoldIndex = require("./mouse-click-and-hold/index");

var _mouseClickAndHoldIndex2 = _interopRequireDefault(_mouseClickAndHoldIndex);

var _trainerIndex = require("./trainer/index");

var _trainerIndex2 = _interopRequireDefault(_trainerIndex);

exports["default"] = _angular2["default"].module("app", [
/*  vendor  */
"ui.router", "ngMaterial",
/*  custom   */
_aboutIndex2["default"].name, _mouseClickAndHoldIndex2["default"].name, _trainerIndex2["default"].name, _menuIndex2["default"].name]);
module.exports = exports["default"];

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./about/index":1,"./menu/index":6,"./mouse-click-and-hold/index":8,"./trainer/index":42}],5:[function(require,module,exports){
"use strict";

/*  Global ipc  */

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var MenuCtrl = (function () {
    function MenuCtrl() {
        _classCallCheck(this, MenuCtrl);
    }

    _createClass(MenuCtrl, [{
        key: "exit",
        value: function exit() {
            ipc.send("close-main-window");
        }
    }]);

    return MenuCtrl;
})();

exports["default"] = MenuCtrl;
module.exports = exports["default"];

},{}],6:[function(require,module,exports){
(function (global){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var _angular = (typeof window !== "undefined" ? window['angular'] : typeof global !== "undefined" ? global['angular'] : null);

var _angular2 = _interopRequireDefault(_angular);

var _controller = require("./controller");

var _controller2 = _interopRequireDefault(_controller);

exports["default"] = _angular2["default"].module("menu", []).config(function ($stateProvider) {
    $stateProvider.state("menu", {
        controller: _controller2["default"],
        controllerAs: "ctrl",
        template: require("./template.html"),
        url: "^*path"
    });
});
module.exports = exports["default"];

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./controller":5,"./template.html":7}],7:[function(require,module,exports){
module.exports = "<div class=\"main-menu-body\">\n    <div class=\"main-menu-header\">\n        <div class=\"emblem\"></div>\n        <h1>Виртуальный тренажер навигационной аппаратуры командирской машины управления </h1>\n        <div class=\"badge\"></div>\n    </div>\n    <div class=\"main-menu-list\">\n        <ul>\n            <li><h2>Меню:</h2></li>\n            <li><a ui-sref=\"trainer.t121({mode: 'training', reset: true})\">Тренировка</a></li>\n            <li><a ui-sref=\"trainer.t121({mode: 'examination', reset: true})\">Контроль</a></li>\n            <li><a ui-sref=\"about\">Справка</a></li>\n            <li><a href=\"\" ng-click=\"ctrl.exit()\">Выход</a></li>\n        </ul>\n    </div>\n</div>\n";

},{}],8:[function(require,module,exports){
(function (global){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var _angular = (typeof window !== "undefined" ? window['angular'] : typeof global !== "undefined" ? global['angular'] : null);

var _angular2 = _interopRequireDefault(_angular);

exports["default"] = _angular2["default"].module("mouse-click-and-hold", []).directive("mouseClickAndHold", function ($interval) {
    return {
        link: function link(scope, element) {
            var interval = scope.interval;
            var action = scope.mouseClickAndHold;

            var intervalPromise = null;

            bindBeginAction();

            function bindBeginAction() {
                element.on("mousedown", beginAction);
            }

            function bindEndAction() {
                element.on("mouseup", endAction);
                element.on("mouseleave", endAction);
            }

            function beginAction(e) {
                e.preventDefault();
                intervalPromise = $interval(function () {
                    action();
                }, interval);
                bindEndAction();
            }

            function endAction() {
                $interval.cancel(intervalPromise);
                unbindEndAction();
            }

            function unbindEndAction() {
                element.off("mouseup");
                element.off("mouseleave");
            }
        },
        restrict: "A",
        scope: {
            mouseClickAndHold: "&",
            interval: "="
        }
    };
});
module.exports = exports["default"];

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],9:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Angle = (function () {
    function Angle(value) {
        _classCallCheck(this, Angle);

        this._value = value;
        this.step = 10;
    }

    _createClass(Angle, [{
        key: "increase",
        value: function increase() {
            if (this._value >= 6000) {
                this._value %= 6000;
            }

            this._value += this.step;
        }
    }, {
        key: "decrease",
        value: function decrease() {
            if (this._value <= 0) {
                this._value += 6000;
            }

            this._value -= this.step;
        }
    }, {
        key: "value",
        get: function get() {
            var wholePart = Math.floor(this._value / 100);
            var redundantPart = Math.floor(this._value % 100);
            var wholePartString = wholePart > 9 ? wholePart : "0" + wholePart;
            var redundantPartString = redundantPart > 9 ? redundantPart : "0" + redundantPart;

            return wholePartString + " - " + redundantPartString;
        },
        set: function set(value) {
            this._value = value;
        }
    }]);

    return Angle;
})();

exports["default"] = Angle;
module.exports = exports["default"];

},{}],10:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var B44ButtonsHandler = (function () {
    function B44ButtonsHandler() {
        _classCallCheck(this, B44ButtonsHandler);

        this.isOpened = false;
    }

    _createClass(B44ButtonsHandler, [{
        key: "toggle",
        value: function toggle() {
            this.isOpened = !this.isOpened;
        }
    }, {
        key: "open",
        value: function open() {
            this.isOpened = true;
        }
    }, {
        key: "close",
        value: function close() {
            this.isOpened = false;
        }
    }]);

    return B44ButtonsHandler;
})();

exports["default"] = B44ButtonsHandler;
module.exports = exports["default"];

},{}],11:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Coordinate = (function () {
    _createClass(Coordinate, null, [{
        key: "step",
        get: function get() {
            return 10;
        }
    }]);

    function Coordinate(initialValue, config) {
        _classCallCheck(this, Coordinate);

        this.value = initialValue;
        this.minValue = config.minValue;
        this.maxValue = config.maxValue;

        this.minPercent = config.minPercent;
        this.maxPercent = config.maxPercent;

        var percentsRange = this.maxPercent - this.minPercent;
        var valueRange = this.maxValue - this.minValue;

        this.percentPerValue = percentsRange / valueRange;
    }

    _createClass(Coordinate, [{
        key: "increase",
        value: function increase() {
            if (this.value < this.maxValue) {
                this.value += Coordinate.step;
            }
        }
    }, {
        key: "decrease",
        value: function decrease() {
            if (this.value > this.minValue) {
                this.value -= Coordinate.step;
            }
        }
    }, {
        key: "inPercents",
        value: function inPercents() {
            return this.minPercent + this.percentPerValue * (this.value - this.minValue);
        }
    }]);

    return Coordinate;
})();

exports["default"] = Coordinate;
module.exports = exports["default"];

},{}],12:[function(require,module,exports){
module.exports={
  "x": {
    "minPercent": 3.3,
    "maxPercent": 93,
    "minValue": 56400,
    "maxValue": 61000
  },
  "y": {
    "minPercent": 4.5,
    "maxPercent": 96,
    "minValue": 50525,
    "maxValue": 55975
  },
  "initX": {
    "minValue": 58000,
    "maxValue": 61000
  },
  "initY": {
    "minValue": 52000,
    "maxValue": 55000
  }
}
},{}],13:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var _mapConfigJson = require("./map.config.json");

var _mapConfigJson2 = _interopRequireDefault(_mapConfigJson);

var _coordinate = require("./coordinate");

var _coordinate2 = _interopRequireDefault(_coordinate);

var _buttonsHandler = require("./buttons-handler");

var _buttonsHandler2 = _interopRequireDefault(_buttonsHandler);

var _angle = require("./angle");

var _angle2 = _interopRequireDefault(_angle);

var B44Service = (function () {
    function B44Service() {
        _classCallCheck(this, B44Service);

        this.reset();
    }

    _createClass(B44Service, [{
        key: "setMap",
        value: function setMap() {
            this.isMapSetted = true;
        }
    }, {
        key: "reset",
        value: function reset() {
            this.angle = new _angle2["default"](this.randomInRange(0, 2000, 10));
            this.path = "ВЫКЛ";
            this.rightAngle = new _angle2["default"](this.randomInRange(0, 2000, 10));

            this.correction = this.randomInRange(-5, 5, 1);
            this.rightCorrection = this.randomInRange(-5, 5, 1);

            this.isMapSetted = false;

            this.scales = ["ВЫКЛ", "1 : 50000", "ВЫКЛ", "1 : 100000"];
            this.currentScaleIndex = 0;
            this.scale = this.scales[this.currentScaleIndex];

            var initX = this.randomInRange(_mapConfigJson2["default"].initX.minValue, _mapConfigJson2["default"].initX.maxValue);
            var initY = this.randomInRange(_mapConfigJson2["default"].initY.minValue, _mapConfigJson2["default"].initY.maxValue);
            var step = _coordinate2["default"].step;

            this.counters = {
                x: this.randomInRange(_mapConfigJson2["default"].x.minValue, _mapConfigJson2["default"].x.maxValue),
                path: this.randomInRange(_mapConfigJson2["default"].x.minValue, _mapConfigJson2["default"].x.maxValue),
                y: this.randomInRange(_mapConfigJson2["default"].y.minValue, _mapConfigJson2["default"].y.maxValue)
            };

            this.coordinates = {
                x: this.randomInRange(_mapConfigJson2["default"].initX.minValue, _mapConfigJson2["default"].initX.maxValue, step),
                y: this.randomInRange(_mapConfigJson2["default"].initY.minValue, _mapConfigJson2["default"].initY.maxValue, step)
            };

            this.pencil = {
                x: new _coordinate2["default"](initX, _mapConfigJson2["default"].x),
                y: new _coordinate2["default"](initY, _mapConfigJson2["default"].y)
            };

            this.buttonsHandlers = {
                x: new _buttonsHandler2["default"](),
                path: new _buttonsHandler2["default"](),
                y: new _buttonsHandler2["default"]()
            };
        }
    }, {
        key: "switchScale",
        value: function switchScale() {
            this.currentScaleIndex = (this.currentScaleIndex + 1) % this.scales.length;
            this.scale = this.scales[this.currentScaleIndex];
        }
    }, {
        key: "randomInRange",
        value: function randomInRange(min, max) {
            var step = arguments.length <= 2 || arguments[2] === undefined ? 100 : arguments[2];

            return Math.floor((Math.random() * (max + 1 - min) + min) / step) * step;
        }
    }]);

    return B44Service;
})();

exports["default"] = B44Service;
module.exports = exports["default"];

},{"./angle":9,"./buttons-handler":10,"./coordinate":11,"./map.config.json":12}],14:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var B44ButtonsHandlerController = (function () {
    function B44ButtonsHandlerController(b44) {
        _classCallCheck(this, B44ButtonsHandlerController);

        this.b44 = b44;
    }

    _createClass(B44ButtonsHandlerController, [{
        key: "increase",
        value: function increase(value, event) {
            event.preventDefault();
            event.stopPropagation();

            var currentValueString = String(this.b44.counters[this.property]);
            var decimalIndex = currentValueString.length - String(value).length;

            if (currentValueString[decimalIndex] === "9") {
                currentValueString = currentValueString.substr(0, decimalIndex) + "0" + currentValueString.substr(decimalIndex + 1);
                this.b44.counters[this.property] = parseInt(currentValueString);
            } else {
                this.b44.counters[this.property] += value;
            }
        }
    }]);

    return B44ButtonsHandlerController;
})();

exports["default"] = B44ButtonsHandlerController;
module.exports = exports["default"];

},{}],15:[function(require,module,exports){
(function (global){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var _angular = (typeof window !== "undefined" ? window['angular'] : typeof global !== "undefined" ? global['angular'] : null);

var _angular2 = _interopRequireDefault(_angular);

var _controller = require("./controller");

var _controller2 = _interopRequireDefault(_controller);

exports["default"] = _angular2["default"].module("b44.buttons-handler", []).directive("b44ButtonsHandler", function () {
    return {
        bindToController: true,
        controller: _controller2["default"],
        controllerAs: "ctrl",
        replace: true,
        restrict: "A",
        scope: {
            model: "=",
            property: "@"
        },
        template: require("./template.html")
    };
});
module.exports = exports["default"];

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./controller":14,"./template.html":16}],16:[function(require,module,exports){
module.exports = "<div class=\"b44-buttons-handler \">\n    <div class=\"buttons-wrapper {{ctrl.property}}\"\n         ng-class=\"{opened : ctrl.model.isOpened}\"\n         ng-click=\"ctrl.model.toggle()\">\n        <div class=\"button\" id=\"btn1\" ng-click=\"ctrl.increase(10000, $event)\"></div>\n        <div class=\"button\" id=\"btn2\" ng-click=\"ctrl.increase(1000, $event)\"></div>\n        <div class=\"button\" id=\"btn3\" ng-click=\"ctrl.increase(100, $event)\"></div>\n    </div>\n</div>";

},{}],17:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var B44Controller = (function () {
    function B44Controller(b44, examiner, map, topSide, leftSide) {
        _classCallCheck(this, B44Controller);

        this.examiner = examiner;
        this.b44 = b44;
        this.map = map;
        this.topSide = topSide;
        this.leftSide = leftSide;
        this.step = 10;
        this.interval = 80;
    }

    _createClass(B44Controller, [{
        key: "showMap",
        value: function showMap() {
            this.map.show();
        }
    }, {
        key: "showTopSide",
        value: function showTopSide() {
            this.topSide.show();
        }
    }, {
        key: "showLeftSide",
        value: function showLeftSide() {
            this.leftSide.show();
        }
    }, {
        key: "increaseX",
        value: function increaseX() {
            if (this.b44.pencil.x.value < this.b44.pencil.x.maxValue) {
                this.b44.pencil.x.value += this.step;
                this.b44.counters.x += this.step;
            }
        }
    }, {
        key: "decreaseX",
        value: function decreaseX() {
            if (this.b44.pencil.x.value > this.b44.pencil.x.minValue) {
                this.b44.pencil.x.value -= this.step;
                this.b44.counters.x -= this.step;
            }
        }
    }, {
        key: "increaseY",
        value: function increaseY() {
            if (this.b44.pencil.y.value < this.b44.pencil.y.maxValue) {
                this.b44.pencil.y.value += this.step;
                this.b44.counters.y += this.step;
            }
        }
    }, {
        key: "decreaseY",
        value: function decreaseY() {
            if (this.b44.pencil.y.value > this.b44.pencil.y.minValue) {
                this.b44.pencil.y.value -= this.step;
                this.b44.counters.y -= this.step;
            }
        }
    }]);

    return B44Controller;
})();

exports["default"] = B44Controller;
module.exports = exports["default"];

},{}],18:[function(require,module,exports){
(function (global){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var _angular = (typeof window !== "undefined" ? window['angular'] : typeof global !== "undefined" ? global['angular'] : null);

var _angular2 = _interopRequireDefault(_angular);

var _controller = require("./controller");

var _controller2 = _interopRequireDefault(_controller);

var _buttonsHandlerIndex = require("./buttons-handler/index");

var _buttonsHandlerIndex2 = _interopRequireDefault(_buttonsHandlerIndex);

var _sidebarLeftIndex = require("./sidebar/left/index");

var _sidebarLeftIndex2 = _interopRequireDefault(_sidebarLeftIndex);

var _sidebarRightIndex = require("./sidebar/right/index");

var _sidebarRightIndex2 = _interopRequireDefault(_sidebarRightIndex);

var _sideIndexJs = require("./side/index.js");

var _sideIndexJs2 = _interopRequireDefault(_sideIndexJs);

var _mapIndex = require("./map/index");

var _mapIndex2 = _interopRequireDefault(_mapIndex);

var _topSideIndex = require("./top-side/index");

var _topSideIndex2 = _interopRequireDefault(_topSideIndex);

var _leftSideIndex = require("./left-side/index");

var _leftSideIndex2 = _interopRequireDefault(_leftSideIndex);

exports["default"] = _angular2["default"].module("trainer.b44", [_buttonsHandlerIndex2["default"].name, _sidebarLeftIndex2["default"].name, _sidebarRightIndex2["default"].name, _sideIndexJs2["default"].name, _mapIndex2["default"].name, _leftSideIndex2["default"].name, _topSideIndex2["default"].name]).config(function ($stateProvider) {
    $stateProvider.state("trainer.b44", {
        controller: _controller2["default"],
        controllerAs: "ctrl",
        template: require("./template.html"),
        url: "/b44"
    });
});
module.exports = exports["default"];

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./buttons-handler/index":15,"./controller":17,"./left-side/index":20,"./map/index":24,"./side/index.js":28,"./sidebar/left/index":31,"./sidebar/right/index":34,"./template.html":36,"./top-side/index":38}],19:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var LeftSideController = (function () {
    function LeftSideController(leftSide, b44, examiner) {
        _classCallCheck(this, LeftSideController);

        this.examiner = examiner;
        this.leftSide = leftSide;
        this.b44 = b44;
    }

    _createClass(LeftSideController, [{
        key: "close",
        value: function close() {
            this.leftSide.close();
        }
    }, {
        key: "increase",
        value: function increase() {
            if (this.b44.correction < 5) this.b44.correction++;
        }
    }, {
        key: "decrease",
        value: function decrease() {
            if (this.b44.correction > -5) this.b44.correction--;
        }
    }, {
        key: "togglePath",
        value: function togglePath() {
            this.b44.path = this.b44.path === "ВЫКЛ" ? "ВКЛ" : "ВЫКЛ";
        }
    }]);

    return LeftSideController;
})();

exports["default"] = LeftSideController;
module.exports = exports["default"];

},{}],20:[function(require,module,exports){
(function (global){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var _angular = (typeof window !== "undefined" ? window['angular'] : typeof global !== "undefined" ? global['angular'] : null);

var _angular2 = _interopRequireDefault(_angular);

var _service = require("./service");

var _service2 = _interopRequireDefault(_service);

exports["default"] = _angular2["default"].module("b44.leftSide", []).service("leftSide", _service2["default"]);
module.exports = exports["default"];

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./service":21}],21:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var _controller = require("./controller");

var _controller2 = _interopRequireDefault(_controller);

var LeftSideService = (function () {
    function LeftSideService($mdDialog) {
        _classCallCheck(this, LeftSideService);

        this.dialog = $mdDialog;
    }

    _createClass(LeftSideService, [{
        key: "show",
        value: function show($event) {
            this.dialog.show({
                targetEvent: $event,
                clickOutsideToClose: true,
                template: require('./template.html'),
                controller: _controller2["default"],
                controllerAs: 'ctrl'
            });
        }
    }, {
        key: "close",
        value: function close() {
            this.dialog.cancel();
        }
    }]);

    return LeftSideService;
})();

exports["default"] = LeftSideService;
module.exports = exports["default"];

},{"./controller":19,"./template.html":22}],22:[function(require,module,exports){
module.exports = "<md-dialog aria-label=\"Установка карандаша\" class=\"md-transition-in large\" role=\"dialog\" tabindex=\"-1\"\n           aria-describedby=\"dialog_11\" style=\"\">\n    <form class=\"ng-pristine ng-valid\">\n        <md-toolbar>\n            <div class=\"md-toolbar-tools\">\n                <h3>КП. Вид слева</h3>\n                <span class=\"flex\"></span>\n                <button class=\"md-icon-button md-button md-ink-ripple\" type=\"button\" ng-transclude=\"\"\n                        ng-click=\"ctrl.close()\">\n                    <md-icon md-svg-src=\"img/trainer/b44/map/ic_close_24px.svg\" aria-label=\"Close dialog\"\n                             class=\"ng-scope ng-isolate-scope\" aria-hidden=\"true\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" height=\"100%\" viewBox=\"0 0 24 24\" fit=\"\"\n                             preserveAspectRatio=\"xMidYMid meet\" style=\"pointer-events: none; display: block;\">\n                            <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"></path>\n                        </svg>\n                    </md-icon>\n                </button>\n            </div>\n        </md-toolbar>\n\n        <md-dialog-content class=\"left-side-content\" style=\"max-width:800px;max-height:810px; \" id=\"dialog_11\">\n            <div class=\"left-side\">\n                <div class=\"b44-knob-control-wrapper b44-path-knob\"\n                     ng-mousedown=\"ctrl.examiner.testAllBefore('b44-step16.0')\"\n                     ng-class=\"{'hint-closest' : ctrl.examiner.isTrainingMode() && ctrl.examiner.currentStep.id === 'b44-step16.0'}\"\n                     ng-mouseup=\"ctrl.examiner.nextStepTo('b44-step16.0')\"\n                     ng-click=\"ctrl.togglePath()\">\n                </div>\n                <div class=\"b44-knob-control-wrapper b44-left-side-knob-control\"\n                     ng-mousedown=\"ctrl.examiner.testAllBefore('b44-step15.0')\"\n                     ng-class=\"{'hint-closest' : ctrl.examiner.isTrainingMode() && ctrl.examiner.currentStep.id === 'b44-step15.0'}\"\n                     ng-mouseup=\"ctrl.examiner.nextStepTo('b44-step15.0')\">\n                    <div class=\"b44-knob-control-regulators\">\n                        <div class=\"b44-knob-control-regulator\" ng-click=\"ctrl.increase()\">+</div>\n                        <div class=\"b44-knob-control-regulator\" ng-click=\"ctrl.decrease()\">-</div>\n                    </div>\n                </div>\n            </div>\n        </md-dialog-content>\n    </form>\n</md-dialog>";

},{}],23:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var MapController = (function () {
    function MapController(map, b44) {
        _classCallCheck(this, MapController);

        this.map = map;
        this.b44 = b44;
    }

    _createClass(MapController, [{
        key: "close",
        value: function close() {
            this.map.close();
        }
    }]);

    return MapController;
})();

exports["default"] = MapController;
module.exports = exports["default"];

},{}],24:[function(require,module,exports){
(function (global){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var _angular = (typeof window !== "undefined" ? window['angular'] : typeof global !== "undefined" ? global['angular'] : null);

var _angular2 = _interopRequireDefault(_angular);

var _service = require("./service");

var _service2 = _interopRequireDefault(_service);

exports["default"] = _angular2["default"].module("map", []).service("map", _service2["default"]);
module.exports = exports["default"];

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./service":25}],25:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var _controller = require("./controller");

var _controller2 = _interopRequireDefault(_controller);

var MapService = (function () {
    function MapService($mdDialog) {
        _classCallCheck(this, MapService);

        this.dialog = $mdDialog;
    }

    _createClass(MapService, [{
        key: "show",
        value: function show($event) {
            this.dialog.show({
                targetEvent: $event,
                clickOutsideToClose: true,
                template: require('./template.html'),
                controller: _controller2["default"],
                controllerAs: 'ctrl'
            });
        }
    }, {
        key: "close",
        value: function close() {
            this.dialog.cancel();
        }
    }]);

    return MapService;
})();

exports["default"] = MapService;
module.exports = exports["default"];

},{"./controller":23,"./template.html":26}],26:[function(require,module,exports){
module.exports = "<md-dialog aria-label=\"Установка карандаша\" class=\"md-transition-in large\" role=\"dialog\" tabindex=\"-1\"\n           aria-describedby=\"dialog_11\" style=\"\">\n    <form class=\"ng-pristine ng-valid\">\n        <md-toolbar>\n            <div class=\"md-toolbar-tools\">\n                <h3>Установка карандаша</h3>\n                <span class=\"flex\"></span>\n                <button class=\"md-icon-button md-button md-ink-ripple\" type=\"button\" ng-transclude=\"\"\n                        ng-click=\"ctrl.close()\">\n                    <md-icon md-svg-src=\"img/trainer/b44/map/ic_close_24px.svg\" aria-label=\"Close dialog\"\n                             class=\"ng-scope ng-isolate-scope\" aria-hidden=\"true\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" height=\"100%\" viewBox=\"0 0 24 24\" fit=\"\"\n                             preserveAspectRatio=\"xMidYMid meet\" style=\"pointer-events: none; display: block;\">\n                            <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"></path>\n                        </svg>\n                    </md-icon>\n                </button>\n            </div>\n        </md-toolbar>\n\n        <md-dialog-content class=\"map-content\" style=\"max-width:800px;max-height:810px; \" id=\"dialog_11\">\n            <div class=\"map\">\n                <div class=\"pencil-mark-wrapper\"\n                     style=\"bottom: {{ctrl.b44.pencil.x.inPercents() + '%'}}; left: {{ctrl.b44.pencil.y.inPercents() + '%'}}\">\n                    <p class=\"pencil-mark\">&#x271B</p>\n                </div>\n            </div>\n            <div b44-side side=\"left\" model=\"ctrl.b44.pencil.y\"></div>\n            <div b44-side side=\"right\" model=\"ctrl.b44.pencil.x\"></div>\n        </md-dialog-content>\n    </form>\n</md-dialog>";

},{}],27:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var SideController = function SideController(b44, examiner) {
    _classCallCheck(this, SideController);

    this.b44 = b44;
    this.examiner = examiner;
    this.interval = 40;
};

exports["default"] = SideController;
module.exports = exports["default"];

},{}],28:[function(require,module,exports){
(function (global){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var _angular = (typeof window !== "undefined" ? window['angular'] : typeof global !== "undefined" ? global['angular'] : null);

var _angular2 = _interopRequireDefault(_angular);

var _controller = require("./controller");

var _controller2 = _interopRequireDefault(_controller);

exports["default"] = _angular2["default"].module("b44.side", []).directive("b44Side", function () {
    return {
        bindToController: true,
        controller: _controller2["default"],
        controllerAs: "ctrl",
        replace: true,
        restrict: "A",
        scope: {
            model: "=",
            side: "@"
        },
        template: require("./template.html")
    };
});
module.exports = exports["default"];

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./controller":27,"./template.html":29}],29:[function(require,module,exports){
module.exports = "<div class=\"b44-side\" ng-class=\"ctrl.side\">\n    <div class=\"b44-knob-control-wrapper {{ctrl.side}}\"\n         ng-class=\"{'hint-upper-closer': ctrl.examiner.isTrainingMode() && ctrl.examiner.currentStep.id === 'b44-step2.0'}\"\n         ng-mousedown=\"ctrl.examiner.testAllBefore('b44-step2.0')\"\n         ng-mouseup=\"ctrl.examiner.nextStepTo('b44-step2.0')\">\n        <div class=\"b44-knob-control-regulators\">\n            <div class=\"b44-knob-control-regulator\" ng-class=\"ctrl.side\" mouse-click-and-hold=\"ctrl.model.increase()\"\n                 interval=\"ctrl.interval\">+\n            </div>\n            <div class=\"b44-knob-control-regulator\" ng-class=\"ctrl.side\" mouse-click-and-hold=\"ctrl.model.decrease()\"\n                 interval=\"ctrl.interval\">-\n            </div>\n        </div>\n    </div>\n    <div class=\"scale-control\"\n         ng-if=\"ctrl.side === 'left'\"\n         ng-class=\"{'hint-upper': ctrl.examiner.isTrainingMode() && ctrl.examiner.currentStep.id === 'b44-step3.0'}\"\n         ng-mousedown=\"ctrl.examiner.testAllBefore('b44-step3.0')\"\n         ng-mouseup=\"ctrl.examiner.nextStepTo('b44-step3.0')\"\n         ng-click=\"ctrl.b44.switchScale()\">\n    </div>\n</div>\n";

},{}],30:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var T121LeftSidebarCtrl = function T121LeftSidebarCtrl(b44, examiner) {
    _classCallCheck(this, T121LeftSidebarCtrl);

    this.b44 = b44;
    this.examiner = examiner;
};

exports["default"] = T121LeftSidebarCtrl;
module.exports = exports["default"];

},{}],31:[function(require,module,exports){
(function (global){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var _angular = (typeof window !== "undefined" ? window['angular'] : typeof global !== "undefined" ? global['angular'] : null);

var _angular2 = _interopRequireDefault(_angular);

var _controller = require("./controller");

var _controller2 = _interopRequireDefault(_controller);

exports["default"] = _angular2["default"].module("b44.left-sidebar", []).directive("b44LeftSidebar", function () {
    return {
        bindToController: true,
        controller: _controller2["default"],
        controllerAs: 'ctrl',
        replace: true,
        restrict: "A",
        scope: {},
        template: require("./template.html")
    };
});
module.exports = exports["default"];

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./controller":30,"./template.html":32}],32:[function(require,module,exports){
module.exports = "<div class=\"sidebar left\">\n    <ul class=\"indicators\">\n        <li class=\"indicator\">\n            <label>Значение счетчика X: </label>\n            <input type=\"text\" ng-value=\"ctrl.b44.counters.x\" disabled/>\n        </li>\n        <li class=\"indicator\">\n            <label>Значение счетчика Y:</label>\n            <input type=\"text\" ng-value=\"ctrl.b44.counters.y\" disabled/>\n        </li>\n        <li class=\"indicator\">\n            <label>Установленный путь: </label>\n            <input type=\"text\" ng-value=\"ctrl.b44.counters.path\" disabled/>\n        </li>\n    </ul>\n    <hr>\n    <ul>\n        <li class=\"indicator\">\n            <label>Установленный дирекционный угол оси машины:</label>\n            <input type=\"text\" ng-value=\"ctrl.b44.angle.value\" disabled/>\n        </li>\n        <li class=\"indicator\">\n            <label>Установленный коэф. корр. пути: </label>\n            <input type=\"text\" ng-value=\"ctrl.b44.correction\" id=\"friction-error2\" disabled/>\n        </li>\n        <li class=\"indicator\">\n            <label>Положение тумблера ПУТЬ: </label>\n            <input type=\"text\" ng-value=\"ctrl.b44.path\" disabled/>\n        </li>\n    </ul>\n    <hr>\n    <ul>\n        <li class=\"indicator\">\n            <label>Установленный масштаб:</label>\n            <input type=\"text\" ng-value=\"ctrl.b44.scale\" disabled/>\n        </li>\n    </ul>\n    <hr>\n    <div class=\"back-link\">\n        <a ui-sref=\"menu\">&#10092 Вернуться в Меню</a>\n    </div>\n</div>";

},{}],33:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, '__esModule', {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

var T121RightSidebarCtrl = (function () {
    function T121RightSidebarCtrl($interval, b44, weather, examiner) {
        var _this = this;

        _classCallCheck(this, T121RightSidebarCtrl);

        this.interval = $interval;
        this.b44 = b44;
        this.weather = weather;
        this.examiner = examiner;

        this.oneSec = 1000;

        this.currentTime = moment().format('HH:mm:ss');

        this.interval(function () {
            _this.updateCurrentTime();
        }, this.oneSec);
    }

    _createClass(T121RightSidebarCtrl, [{
        key: 'setWorkFinishedTime',
        value: function setWorkFinishedTime() {
            this.b44.finishedTime = moment().format('HH:mm:ss');
        }
    }, {
        key: 'updateCurrentTime',
        value: function updateCurrentTime() {
            this.currentTime = moment().format('HH:mm:ss');
        }
    }]);

    return T121RightSidebarCtrl;
})();

exports['default'] = T121RightSidebarCtrl;
module.exports = exports['default'];

},{}],34:[function(require,module,exports){
(function (global){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var _angular = (typeof window !== "undefined" ? window['angular'] : typeof global !== "undefined" ? global['angular'] : null);

var _angular2 = _interopRequireDefault(_angular);

var _controller = require("./controller");

var _controller2 = _interopRequireDefault(_controller);

exports["default"] = _angular2["default"].module("b44.right-sidebar", []).directive("b44RightSidebar", function () {
    return {
        bindToController: true,
        controller: _controller2["default"],
        controllerAs: 'ctrl',
        replace: true,
        restrict: "A",
        scope: {},
        template: require("./template.html")
    };
});
module.exports = exports["default"];

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./controller":33,"./template.html":35}],35:[function(require,module,exports){
module.exports = "<div class=\"sidebar right\">\n    <div class=\"navigation\">\n        <a ui-sref=\"trainer.t121\">Переход к ГКУ &#10093</a>\n    </div>\n    <hr>\n    <ul class=\"indicators\">\n        <li><p>Местоположение:</p></li>\n        <li class=\"indicator\">\n            <label>Координата X:</label>\n            <input type=\"text\" ng-value=\"ctrl.b44.coordinates.x\" disabled/>\n        </li>\n        <li class=\"indicator\">\n            <label>Координата Y:</label>\n            <input type=\"text\" ng-value=\"ctrl.b44.coordinates.y\" disabled/>\n        </li>\n    </ul>\n    <hr>\n    <ul>\n        <li class=\"indicator\">\n            <label>Дирекционный угол оси машины:</label>\n            <input type=\"text\" ng-value=\"ctrl.b44.rightAngle.value\" disabled/>\n        </li>\n    </ul>\n    <hr>\n    <ul>\n        <li class=\"indicator\">\n            <p>Формулярные значения:</p>\n        </li>\n        <li class=\"indicator\">\n            <label>КОЭФ. КОРР.  ДДС:</label>\n            <input type=\"text\" ng-value=\"ctrl.b44.rightCorrection\" disabled/>\n        </li>\n    </ul>\n    <hr>\n    <ul>\n        <li class=\"indicator\">\n            <label>Масштаб карты:</label>\n            <input type=\"text\" value=\"1 : 50000\" disabled/>\n        </li>\n    </ul>\n    <hr>\n    <ul class=\"indicators\">\n        <li ng-if=\"!ctrl.b44.finishedTime\" class=\"indicator\">\n            <a ng-mousedown=\"ctrl.examiner.testAllBefore('b44-step17.0')\"\n               ng-class=\"{'hint' : ctrl.examiner.isTrainingMode() && ctrl.examiner.currentStep.id === 'b44-step17.0'}\"\n               ng-mouseup=\"ctrl.setWorkFinishedTime(); ctrl.examiner.nextStepTo('b44-step17.0')\">\n                Зафиксировать время окончания работы\n            </a>\n        </li>\n        <li ng-if=\"ctrl.b44.finishedTime\" class=\"indicator\">\n            <label for=\"gyroscope-enabled-time\">Время окончания работы:</label>\n            <input type=\"text\" id=\"gyroscope-enabled-time\" ng-value=\"ctrl.b44.finishedTime\" disabled/>\n        </li>\n    </ul>\n    <hr>\n    <ul class=\"indicators\">\n        <li class=\"indicator clock\">\n            <label for=\"current-time\">Текущее время:</label>\n            <input type=\"text\" id=\"current-time\" ng-model=\"ctrl.currentTime\" disabled/>\n        </li>\n    </ul>\n</div>";

},{}],36:[function(require,module,exports){
module.exports = "<div class=\"b44-body\">\n    <div b44-left-sidebar></div>\n    <div class=\"b44-wrapper\">\n        <div class=\"topbar\" ng-if=\"ctrl.examiner.isTrainingMode()\">\n            <p class=\"instruction\"> {{ctrl.examiner.currentStep.instruction}}</p>\n        </div>\n        <div class=\"b44\" ng-class=\"{empty : !ctrl.b44.isMapSetted,'right-opened': ctrl.b44.buttonsHandlers.x.isOpened,\n        'left-opened': ctrl.b44.buttonsHandlers.y.isOpened, 'center-opened': ctrl.b44.buttonsHandlers.path.isOpened}\">\n            <a class=\"go-to left-side\"\n               ng-class=\"{'hint-closer' : ctrl.examiner.isTrainingMode() && (ctrl.examiner.currentStep.id === 'b44-step15.0' || ctrl.examiner.currentStep.id === 'b44-step16.0')}\"\n               ng-click=\"ctrl.showLeftSide()\">\n                Вид сбоку слева\n            </a>\n            <a class=\"go-to top-side\"\n               ng-class=\"{'hint-closer' : ctrl.examiner.isTrainingMode() && ctrl.examiner.currentStep.id === 'b44-step14.0'}\"\n               ng-click=\"ctrl.showTopSide()\">\n                Вид сверху\n            </a>\n            <div class=\"map-rollover\"\n                 ng-class=\"{'hint-closer-map': ctrl.examiner.isTrainingMode() && ctrl.examiner.currentStep.id === 'b44-step1.0' || ctrl.examiner.currentStep.id === 'b44-step2.0'}\"\n                 ng-mousedown=\"ctrl.examiner.testAllBefore('b44-step1.0')\"\n                 ng-click=\"ctrl.b44.isMapSetted ? ctrl.showMap() : ctrl.b44.setMap()\"\n                 ng-mouseup=\"ctrl.examiner.nextStepTo('b44-step1.0')\">\n            </div>\n            <div class=\"b44-buttons-handlers\">\n                <div class=\"b44-buttons-handler left\"\n                     b44-buttons-handler\n                     model=\"ctrl.b44.buttonsHandlers.y\"\n                     property=\"y\"\n                     ng-class=\"{'hint-closer': ctrl.examiner.isTrainingMode() && (ctrl.examiner.currentStep.id === 'b44-step5.0' || ctrl.examiner.currentStep.id === 'b44-step7.0' || ctrl.examiner.currentStep.id === 'b44-step8.0')}\"\n                     ng-mousedown=\"ctrl.b44.buttonsHandlers.y.isOpened ? ctrl.examiner.testAllBefore('b44-step7.0') : ctrl.examiner.testAllBefore('b44-step5.0')\"\n                     ng-click=\"ctrl.examiner.nextStepTo('b44-step5.0')\"\n                     ng-mouseup=\"ctrl.examiner.nextStepTo('b44-step7.0'); ctrl.examiner.nextStepTo('b44-step8.0')\">\n                </div>\n                <div class=\"b44-buttons-handler center\"\n                     b44-buttons-handler\n                     model=\"ctrl.b44.buttonsHandlers.path\"\n                     property=\"path\"\n                     ng-class=\"{'hint-closer': ctrl.examiner.isTrainingMode() && (ctrl.examiner.currentStep.id === 'b44-step10.0' || ctrl.examiner.currentStep.id === 'b44-step11.0' || ctrl.examiner.currentStep.id === 'b44-step12.0')}\"\n                     ng-mousedown=\"ctrl.b44.buttonsHandlers.x.isOpened ? ctrl.examiner.testAllBefore('b44-step11.0') : ctrl.examiner.testAllBefore('b44-step10.0')\"\n                     ng-click=\"ctrl.examiner.nextStepTo('b44-step10.0')\"\n                     ng-mouseup=\"ctrl.examiner.nextStepTo('b44-step11.0'); ctrl.examiner.nextStepTo('b44-step12.0')\">\n                </div>\n                <div class=\"b44-buttons-handler right\"\n                     b44-buttons-handler\n                     model=\"ctrl.b44.buttonsHandlers.x\"\n                     property=\"x\"\n                     ng-class=\"{'hint-closer': ctrl.examiner.isTrainingMode() && (ctrl.examiner.currentStep.id === 'b44-step4.0' || ctrl.examiner.currentStep.id === 'b44-step6.0' || ctrl.examiner.currentStep.id === 'b44-step9.0')}\"\n                     ng-mousedown=\"ctrl.b44.buttonsHandlers.x.isOpened ? ctrl.examiner.testAllBefore('b44-step6.0') : ctrl.examiner.testAllBefore('b44-step4.0')\"\n                     ng-click=\"ctrl.examiner.nextStepTo('b44-step4.0')\"\n                     ng-mouseup=\"ctrl.examiner.nextStepTo('b44-step6.0'); ctrl.examiner.nextStepTo('b44-step9.0')\">\n                </div>\n            </div>\n            <div class=\"b44-scale-lightbulb\" ng-class=\"{active: ctrl.b44.scale === 'ВЫКЛ'}\">\n            </div>\n            <div class=\"b44-front-knob-controls\">\n                <div class=\"b44-knob-control-wrapper front-left\"\n                     ng-class=\"{'hint-upper-closer': ctrl.examiner.isTrainingMode() && ctrl.examiner.currentStep.id === 'b44-step13.0'}\"\n                     ng-mousedown=\"ctrl.examiner.testAllBefore('b44-step13.0')\"\n                     ng-mouseup=\"ctrl.examiner.nextStepTo('b44-step13.0')\">\n                    <div class=\"b44-knob-control-regulators\">\n                        <div class=\"b44-knob-control-regulator\" mouse-click-and-hold=\"ctrl.increaseX()\"\n                             interval=\"ctrl.interval\">+\n                        </div>\n                        <div class=\"b44-knob-control-regulator\" mouse-click-and-hold=\"ctrl.decreaseX()\"\n                             interval=\"ctrl.interval\">-\n                        </div>\n                    </div>\n                </div>\n                <div class=\"b44-knob-control-wrapper front-right\"\n                     ng-class=\"{'hint-upper-closer': ctrl.examiner.isTrainingMode() && ctrl.examiner.currentStep.id === 'b44-step13.0'}\"\n                     ng-mousedown=\"ctrl.examiner.testAllBefore('b44-step13.0')\"\n                     ng-mouseup=\"ctrl.examiner.nextStepTo('b44-step13.0')\">\n                    <div class=\"b44-knob-control-regulators\">\n                        <div class=\"b44-knob-control-regulator\" mouse-click-and-hold=\"ctrl.increaseY()\"\n                             interval=\"ctrl.interval\">+\n                        </div>\n                        <div class=\"b44-knob-control-regulator\" mouse-click-and-hold=\"ctrl.decreaseY()\"\n                             interval=\"ctrl.interval\">-\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div b44-right-sidebar></div>\n</div>";

},{}],37:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var TopSideController = (function () {
    function TopSideController(topSide, b44, examiner) {
        _classCallCheck(this, TopSideController);

        this.examiner = examiner;
        this.topSide = topSide;
        this.b44 = b44;
    }

    _createClass(TopSideController, [{
        key: "close",
        value: function close() {
            this.topSide.close();
        }
    }]);

    return TopSideController;
})();

exports["default"] = TopSideController;
module.exports = exports["default"];

},{}],38:[function(require,module,exports){
(function (global){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var _angular = (typeof window !== "undefined" ? window['angular'] : typeof global !== "undefined" ? global['angular'] : null);

var _angular2 = _interopRequireDefault(_angular);

var _service = require("./service");

var _service2 = _interopRequireDefault(_service);

exports["default"] = _angular2["default"].module("b44.topSide", []).service("topSide", _service2["default"]);
module.exports = exports["default"];

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./service":39}],39:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var _controller = require("./controller");

var _controller2 = _interopRequireDefault(_controller);

var topSideService = (function () {
    function topSideService($mdDialog) {
        _classCallCheck(this, topSideService);

        this.dialog = $mdDialog;
    }

    _createClass(topSideService, [{
        key: "show",
        value: function show($event) {
            this.dialog.show({
                targetEvent: $event,
                clickOutsideToClose: true,
                template: require('./template.html'),
                controller: _controller2["default"],
                controllerAs: 'ctrl'
            });
        }
    }, {
        key: "close",
        value: function close() {
            this.dialog.cancel();
        }
    }]);

    return topSideService;
})();

exports["default"] = topSideService;
module.exports = exports["default"];

},{"./controller":37,"./template.html":40}],40:[function(require,module,exports){
module.exports = "<md-dialog aria-label=\"Установка карандаша\" class=\"md-transition-in large\" role=\"dialog\" tabindex=\"-1\"\n           aria-describedby=\"dialog_11\" style=\"\">\n    <form class=\"ng-pristine ng-valid\">\n        <md-toolbar>\n            <div class=\"md-toolbar-tools\">\n                <h3>КП. Вид сверху</h3>\n                <span class=\"flex\"></span>\n                <button class=\"md-icon-button md-button md-ink-ripple\" type=\"button\" ng-transclude=\"\"\n                        ng-click=\"ctrl.close()\">\n                    <md-icon md-svg-src=\"img/trainer/b44/map/ic_close_24px.svg\" aria-label=\"Close dialog\"\n                             class=\"ng-scope ng-isolate-scope\" aria-hidden=\"true\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" height=\"100%\" viewBox=\"0 0 24 24\" fit=\"\"\n                             preserveAspectRatio=\"xMidYMid meet\" style=\"pointer-events: none; display: block;\">\n                            <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"></path>\n                        </svg>\n                    </md-icon>\n                </button>\n            </div>\n        </md-toolbar>\n\n        <md-dialog-content class=\"top-side-content\" style=\"max-width:800px;max-height:810px; \" id=\"dialog_11\">\n            <div class=\"top-side\">\n                <div class=\"b44-knob-control-wrapper b44-top-side-knob-control\"\n                     ng-mousedown=\"ctrl.examiner.testAllBefore('b44-step14.0')\"\n                     ng-class=\"{'hint' : ctrl.examiner.isTrainingMode() && ctrl.examiner.currentStep.id === 'b44-step14.0'}\"\n                     ng-mouseup=\"ctrl.examiner.nextStepTo('b44-step14.0')\">\n                    <div class=\"b44-knob-control-regulators\">\n                        <div class=\"b44-knob-control-regulator\" mouse-click-and-hold=\"ctrl.b44.angle.increase()\"\n                             interval=\"50\">+\n                        </div>\n                        <div class=\"b44-knob-control-regulator\" mouse-click-and-hold=\"ctrl.b44.angle.decrease()\"\n                             interval=\"50\">-\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </md-dialog-content>\n    </form>\n</md-dialog>";

},{}],41:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var TrainerController = function TrainerController(examiner, t121, b44, weather, resetNeeded, mode) {
    _classCallCheck(this, TrainerController);

    if (resetNeeded) {
        examiner.reset();
        t121.reset();
        b44.reset();
        weather.reset();
    }

    examiner.mode = mode;
};

exports["default"] = TrainerController;
module.exports = exports["default"];

},{}],42:[function(require,module,exports){
(function (global){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var _angular = (typeof window !== "undefined" ? window['angular'] : typeof global !== "undefined" ? global['angular'] : null);

var _angular2 = _interopRequireDefault(_angular);

var _examinerService = require("../examiner/service");

var _examinerService2 = _interopRequireDefault(_examinerService);

var _b44Index = require("./b44/index");

var _b44Index2 = _interopRequireDefault(_b44Index);

var _b44B44Service = require("./b44/b44/service");

var _b44B44Service2 = _interopRequireDefault(_b44B44Service);

var _t121Index = require("./t121/index");

var _t121Index2 = _interopRequireDefault(_t121Index);

var _t121T121Service = require("./t121/t121/service");

var _t121T121Service2 = _interopRequireDefault(_t121T121Service);

var _controller = require("./controller");

var _controller2 = _interopRequireDefault(_controller);

var _weatherService = require("./weather/service");

var _weatherService2 = _interopRequireDefault(_weatherService);

exports["default"] = _angular2["default"].module("t121", [_t121Index2["default"].name, _b44Index2["default"].name]).service('examiner', _examinerService2["default"]).service('t121', _t121T121Service2["default"]).service('b44', _b44B44Service2["default"]).service('weather', _weatherService2["default"]).config(function ($stateProvider) {
    $stateProvider.state("trainer", {
        abstract: true,
        controller: _controller2["default"],
        params: {
            mode: 'training',
            reset: false
        },
        resolve: {
            resetNeeded: function resetNeeded($stateParams) {
                return $stateParams.reset;
            },
            mode: function mode($stateParams) {
                return $stateParams.mode;
            }
        },
        template: require('./template.html'),
        url: "/trainer"
    });
});
module.exports = exports["default"];

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"../examiner/service":3,"./b44/b44/service":13,"./b44/index":18,"./controller":41,"./t121/index":44,"./t121/t121/service":60,"./template.html":66,"./weather/service":67}],43:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var T121Controller = function T121Controller(t121, examiner) {
    _classCallCheck(this, T121Controller);

    this.t121 = t121;
    this.examiner = examiner;
};

exports["default"] = T121Controller;
module.exports = exports["default"];

},{}],44:[function(require,module,exports){
(function (global){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var _angular = (typeof window !== "undefined" ? window['angular'] : typeof global !== "undefined" ? global['angular'] : null);

var _angular2 = _interopRequireDefault(_angular);

var _knobControlIndex = require("./knob-control/index");

var _knobControlIndex2 = _interopRequireDefault(_knobControlIndex);

var _lightbulbIndex = require("./lightbulb/index");

var _lightbulbIndex2 = _interopRequireDefault(_lightbulbIndex);

var _sidebarLeftIndex = require("./sidebar/left/index");

var _sidebarLeftIndex2 = _interopRequireDefault(_sidebarLeftIndex);

var _sidebarRightIndex = require("./sidebar/right/index");

var _sidebarRightIndex2 = _interopRequireDefault(_sidebarRightIndex);

var _controller = require("./controller");

var _controller2 = _interopRequireDefault(_controller);

var _toggleIndex = require("./toggle/index");

var _toggleIndex2 = _interopRequireDefault(_toggleIndex);

var _t121ServiceJs = require("./t121/service.js");

var _t121ServiceJs2 = _interopRequireDefault(_t121ServiceJs);

exports["default"] = _angular2["default"].module("trainer.t121", [_knobControlIndex2["default"].name, _lightbulbIndex2["default"].name, _sidebarLeftIndex2["default"].name, _sidebarRightIndex2["default"].name, _toggleIndex2["default"].name]).config(function ($stateProvider) {
    $stateProvider.state("trainer.t121", {
        controller: _controller2["default"],
        controllerAs: "ctrl",
        template: require("./template.html"),
        url: "/t121"
    });
});
module.exports = exports["default"];

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./controller":43,"./knob-control/index":46,"./lightbulb/index":49,"./sidebar/left/index":52,"./sidebar/right/index":55,"./t121/service.js":60,"./template.html":62,"./toggle/index":64}],45:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var T121KnobControlCtrl = function T121KnobControlCtrl() {
  _classCallCheck(this, T121KnobControlCtrl);
};

exports["default"] = T121KnobControlCtrl;
module.exports = exports["default"];

},{}],46:[function(require,module,exports){
(function (global){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var _angular = (typeof window !== "undefined" ? window['angular'] : typeof global !== "undefined" ? global['angular'] : null);

var _angular2 = _interopRequireDefault(_angular);

var _controller = require("./controller");

var _controller2 = _interopRequireDefault(_controller);

exports["default"] = _angular2["default"].module("t121.knob-control", []).directive("t121KnobControl", function () {
    return {
        bindToController: true,
        controller: _controller2["default"],
        controllerAs: "ctrl",
        replace: true,
        restrict: "A",
        scope: {
            model: "="
        },
        template: require("./template.html")
    };
});
module.exports = exports["default"];

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./controller":45,"./template.html":47}],47:[function(require,module,exports){
module.exports = "<div class=\"t121-knob-control-wrapper\">\n    <div class=\"t121-knob-control\" style=\"-webkit-transform: rotate({{ctrl.model.currentAngle + 'deg'}})\">\n    </div>\n    <div class=\"t121-knob-control-regulators\">\n        <div class=\"t121-knob-control-regulator\" mouse-click-and-hold=\"ctrl.model.increase()\" interval=\"ctrl.model.rotationSpeed\">+</div>\n        <div class=\"t121-knob-control-regulator\" mouse-click-and-hold=\"ctrl.model.decrease()\" interval=\"ctrl.model.rotationSpeed\">-</div>\n    </div>\n</div>\n";

},{}],48:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var T121LightbulbCtrl = function T121LightbulbCtrl() {
  _classCallCheck(this, T121LightbulbCtrl);
};

exports["default"] = T121LightbulbCtrl;
module.exports = exports["default"];

},{}],49:[function(require,module,exports){
(function (global){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var _angular = (typeof window !== "undefined" ? window['angular'] : typeof global !== "undefined" ? global['angular'] : null);

var _angular2 = _interopRequireDefault(_angular);

var _controller = require("./controller");

var _controller2 = _interopRequireDefault(_controller);

exports["default"] = _angular2["default"].module("t121.lightbulb", []).directive("t121Lightbulb", function () {
    return {
        bindToController: true,
        controller: _controller2["default"],
        controllerAs: 'ctrl',
        replace: true,
        restrict: "A",
        scope: {
            model: "="
        },
        template: require("./template.html")
    };
});
module.exports = exports["default"];

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./controller":48,"./template.html":50}],50:[function(require,module,exports){
module.exports = "<div class=\"t121-lightbulb\" ng-class=\"{active : ctrl.model.isEnabled}\"></div>\n";

},{}],51:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var T121LeftSidebarCtrl = function T121LeftSidebarCtrl(t121, examiner) {
    _classCallCheck(this, T121LeftSidebarCtrl);

    this.t121 = t121;
    this.examiner = examiner;
};

exports["default"] = T121LeftSidebarCtrl;
module.exports = exports["default"];

},{}],52:[function(require,module,exports){
(function (global){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var _angular = (typeof window !== "undefined" ? window['angular'] : typeof global !== "undefined" ? global['angular'] : null);

var _angular2 = _interopRequireDefault(_angular);

var _controller = require("./controller");

var _controller2 = _interopRequireDefault(_controller);

exports["default"] = _angular2["default"].module("t121.left-sidebar", []).directive("t121LeftSidebar", function () {
    return {
        bindToController: true,
        controller: _controller2["default"],
        controllerAs: 'ctrl',
        replace: true,
        restrict: "A",
        scope: {},
        template: require("./template.html")
    };
});
module.exports = exports["default"];

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./controller":51,"./template.html":53}],53:[function(require,module,exports){
module.exports = "<div class=\"sidebar left\">\n    <div class=\"navigation\">\n        <a ng-class=\"{'hint-reverse' : ctrl.examiner.isTrainingMode() && ctrl.examiner.currentStep.id === 't121-step10.0'}\"\n           ng-click=\"ctrl.examiner.nextStepTo('t121-step10.0')\"\n           ui-sref=\"trainer.b44\">&#10092 Переход к КП</a>\n    </div>\n    <hr>\n    <ul class=\"indicators\">\n        <li class=\"indicator\">\n            <label for=\"latitude\">Установка широты: </label>\n            <input type=\"text\" id=\"latitude\" ng-value=\"ctrl.t121.knobControls.latitude.value\" disabled/>\n        </li>\n        <li class=\"indicator\">\n            <label for=\"friction-error\">Поправка на трение (верхний):</label>\n            <input type=\"text\" id=\"friction-error\" ng-value=\"ctrl.t121.knobControls.frictionErrorPositive.value\" disabled/>\n        </li>\n        <li class=\"indicator\">\n            <label for=\"friction-error2\">Поправка на трение (нижний): </label>\n            <input type=\"text\" id=\"friction-error2\" ng-value=\"ctrl.t121.knobControls.frictionErrorNegative.value\" disabled/>\n        </li>\n        <li class=\"indicator\">\n            <label for=\"balance\">Эл. балансировка:</label>\n            <input type=\"text\" id=\"balance\" ng-value=\"ctrl.t121.knobControls.balance.value\" disabled/>\n        </li>\n    </ul>\n    <hr>\n    <ul class=\"tumblers\">\n        <li>\n            <p>Преобразователь:</p>\n\n            <p>{{ctrl.t121.toggles.transformer.isEnabled ? \"ВКЛ\" : \"ВЫКЛ\"}}</p>\n        </li>\n        <li>\n            <p>Обогрев:</p>\n\n            <p> {{ctrl.t121.toggles.heating.isEnabled ? \"ВКЛ\" : \"ВЫКЛ\"}}</p>\n        </li>\n        <li>\n            <p>Гироскоп:</p>\n\n            <p>{{ctrl.t121.toggles.gyroscope.isEnabled ? \"ВКЛ\" : \"ВЫКЛ\"}}</p>\n        </li>\n        <li>\n            <p>Работа:</p>\n\n            <p> {{ctrl.t121.toggles.work.isEnabled ? \"ВКЛ\" : \"ВЫКЛ\"}}</p>\n        </li>\n        <li>\n            <p>Контроль:</p>\n\n            <p> {{ctrl.t121.toggles.control.isEnabled ? \"ВКЛ\" : \"ВЫКЛ\"}}</p>\n        </li>\n    </ul>\n    <div class=\"back-link\">\n        <a ui-sref=\"menu\">&#10092 Вернуться в Меню</a>\n    </div>\n</div>";

},{}],54:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, '__esModule', {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

var T121RightSidebarCtrl = (function () {
    function T121RightSidebarCtrl($interval, t121, weather, examiner) {
        var _this = this;

        _classCallCheck(this, T121RightSidebarCtrl);

        this.interval = $interval;
        this.t121 = t121;
        this.weather = weather;
        this.examiner = examiner;

        this.formularyValues = this.t121.formularyValues;

        this.oneSec = 1000;

        this.currentTime = moment().format('HH:mm:ss');

        this.interval(function () {
            _this.updateCurrentTime();
        }, this.oneSec);
    }

    _createClass(T121RightSidebarCtrl, [{
        key: 'updateCurrentTime',
        value: function updateCurrentTime() {
            this.currentTime = moment().format('HH:mm:ss');
        }
    }, {
        key: 'setGyroscopeEnabledTime',
        value: function setGyroscopeEnabledTime() {
            this.t121.toggles.gyroscope.enabledTime = this.currentTime;
        }
    }, {
        key: 'resetGyroscopeEnabledTime',
        value: function resetGyroscopeEnabledTime() {
            this.t121.toggles.gyroscope.enabledTime = null;
        }
    }]);

    return T121RightSidebarCtrl;
})();

exports['default'] = T121RightSidebarCtrl;
module.exports = exports['default'];

},{}],55:[function(require,module,exports){
(function (global){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var _angular = (typeof window !== "undefined" ? window['angular'] : typeof global !== "undefined" ? global['angular'] : null);

var _angular2 = _interopRequireDefault(_angular);

var _controller = require("./controller");

var _controller2 = _interopRequireDefault(_controller);

exports["default"] = _angular2["default"].module("t121.right-sidebar", []).directive("t121RightSidebar", function () {
    return {
        bindToController: true,
        controller: _controller2["default"],
        controllerAs: 'ctrl',
        replace: true,
        restrict: "A",
        scope: {},
        template: require("./template.html")
    };
});
module.exports = exports["default"];

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./controller":54,"./template.html":56}],56:[function(require,module,exports){
module.exports = "<div class=\"sidebar right\">\n    <ul class=\"indicators\">\n        <li class=\"indicator\">\n            <label for=\"latitude\">Широта:</label>\n            <input type=\"text\" id=\"latitude\" ng-value=\"ctrl.formularyValues.latitude\" disabled/>\n        </li>\n    </ul>\n    <hr>\n    <ul class=\"indicators\">\n        <li><p>Формулярные значения:</p></li>\n        <li class=\"indicator\">\n            <label for=\"friction-error\">Поправка на трение (верхний):</label>\n            <input type=\"text\" id=\"friction-error\" ng-value=\"ctrl.formularyValues.frictionErrorPositive\" disabled/>\n        </li>\n        <li class=\"indicator\">\n            <label for=\"friction-error2\">Поправка на трение (нижний): </label>\n            <input type=\"text\" id=\"friction-error2\" ng-value=\"ctrl.formularyValues.frictionErrorNegative\" disabled/>\n        </li>\n        <li class=\"indicator\">\n            <label for=\"balance\">Эл. балансировка:</label>\n            <input type=\"text\" id=\"balance\" ng-value=\"ctrl.formularyValues.balance\" disabled/>\n        </li>\n    </ul>\n    <hr>\n    <ul class=\"indicators\">\n        <li class=\"indicator\">\n            <label for=\"temperature\">Температура:</label>\n            <input type=\"text\" id=\"temperature\" ng-value=\"ctrl.weather.temperature + '&#8451'\" disabled/>\n        </li>\n    </ul>\n    <hr>\n    <ul class=\"indicators\">\n        <li ng-if=\"!ctrl.t121.toggles.gyroscope.enabledTime\" class=\"indicator\">\n            <a ng-mousedown=\"ctrl.examiner.testAllBefore('t121-step9.0')\"\n               ng-class=\"{'hint-reverse' : ctrl.examiner.isTrainingMode() && ctrl.examiner.currentStep.id === 't121-step9.0'}\"\n               ng-mouseup=\"ctrl.setGyroscopeEnabledTime(); ctrl.examiner.nextStepTo('t121-step9.0')\">\n                Зафиксировать время включения тумблера ГИРОСКОП\n            </a>\n        </li>\n        <li ng-if=\"ctrl.t121.toggles.gyroscope.enabledTime\" class=\"indicator\">\n            <label for=\"gyroscope-enabled-time\">Время включения тумблера ГИРОСКОП:</label>\n            <input type=\"text\" id=\"gyroscope-enabled-time\" ng-value=\"ctrl.t121.toggles.gyroscope.enabledTime\" disabled/>\n        </li>\n        <li class=\"indicator clock\">\n            <label for=\"current-time\">Текущее время:</label>\n            <input type=\"text\" id=\"current-time\" ng-model=\"ctrl.currentTime\" disabled/>\n        </li>\n    </ul>\n</div>";

},{}],57:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var KnobControl = (function () {
    function KnobControl(config) {
        _classCallCheck(this, KnobControl);

        this.marks = config.marks;
        this.rotationSpeed = config.rotationSpeed;

        this.minValue = this.marks[0].value;
        this.maxValue = this.marks[this.marks.length - 1].value;

        this.value = 0;
    }

    _createClass(KnobControl, [{
        key: "increase",
        value: function increase() {
            if (this.value < this.maxValue) {
                this.value++;
            }
        }
    }, {
        key: "decrease",
        value: function decrease() {
            if (this.value > this.minValue) {
                this.value--;
            }
        }
    }, {
        key: "value",
        get: function get() {
            return String(this._value);
        },
        set: function set(value) {
            this._value = value;

            value = Number(value);

            if (this.marks) {
                for (var i = 1; i < this.marks.length; ++i) {
                    var leftMark = this.marks[i - 1];
                    var rightMark = this.marks[i];

                    if (value >= leftMark.value && value <= rightMark.value) {
                        var angleRange = rightMark.angle - leftMark.angle;
                        var valueRange = rightMark.value - leftMark.value;
                        var angleOnValue = angleRange / valueRange;

                        this.currentAngle = leftMark.angle + (value - leftMark.value) * angleOnValue;
                    }
                }
            }
        }
    }]);

    return KnobControl;
})();

exports["default"] = KnobControl;
module.exports = exports["default"];

},{}],58:[function(require,module,exports){
module.exports={
  "frictionErrorPositive": {
    "marks": [
      {
        "angle": 0,
        "value": 0
      },
      {
        "angle": 140,
        "value": 23
      }
    ],
    "rotationSpeed": 100
  },
  "latitude": {
    "marks": [
      {
        "angle": -135,
        "value": 0
      },
      {
        "angle": -44,
        "value": 20
      },
      {
        "angle": -2,
        "value": 30
      },
      {
        "angle": 37,
        "value": 40
      },
      {
        "angle": 70,
        "value": 50
      },
      {
        "angle": 99,
        "value": 60
      },
      {
        "angle": 120,
        "value": 70
      },
      {
        "angle": 135,
        "value": 90
      }
    ],
    "rotationSpeed": 200
  },
  "frictionErrorNegative": {
    "marks": [
      {
        "angle": 140,
        "value": -23
      },
      {
        "angle": 0,
        "value": 0
      }
    ],
    "rotationSpeed": 100
  },
  "balance": {
    "marks": [
      {
        "angle": 141,
        "value": -228
      },
      {
        "angle": -141,
        "value": 228
      }
    ],
    "rotationSpeed": 40
  }
}
},{}],59:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Lightbulb = (function () {
    function Lightbulb() {
        _classCallCheck(this, Lightbulb);

        this.isEnabled = false;
    }

    _createClass(Lightbulb, [{
        key: "toggle",
        value: function toggle() {
            this.isEnabled = !this.isEnabled;
        }
    }, {
        key: "disable",
        value: function disable() {
            this.isEnabled = false;
        }
    }, {
        key: "enable",
        value: function enable() {
            this.isEnabled = true;
        }
    }]);

    return Lightbulb;
})();

exports["default"] = Lightbulb;
module.exports = exports["default"];

},{}],60:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var _knobsConfigJson = require("./knobs.config.json");

var _knobsConfigJson2 = _interopRequireDefault(_knobsConfigJson);

var _knobControl = require("./knob-control");

var _knobControl2 = _interopRequireDefault(_knobControl);

var _lighbulb = require("./lighbulb");

var _lighbulb2 = _interopRequireDefault(_lighbulb);

var _toggle = require("./toggle");

var _toggle2 = _interopRequireDefault(_toggle);

var T121Service = (function () {
    function T121Service($timeout, $interval, weather, $mdDialog) {
        _classCallCheck(this, T121Service);

        this.timeout = $timeout;
        this.interval = $interval;
        this.weather = weather;
        this.dialog = $mdDialog;

        this.reset();
    }

    _createClass(T121Service, [{
        key: "reset",
        value: function reset() {
            this.weather.reset();

            this.formularyValues = {
                latitude: String(this.randomInRange(52, 54)),
                frictionErrorPositive: String(this.randomInRange(1, 10)),
                frictionErrorNegative: String(this.randomInRange(-1, -10)),
                balance: String(this.randomInRange(-40, 40))
            };

            this.knobControls = {
                frictionErrorPositive: new _knobControl2["default"](_knobsConfigJson2["default"].frictionErrorPositive),
                latitude: new _knobControl2["default"](_knobsConfigJson2["default"].latitude),
                frictionErrorNegative: new _knobControl2["default"](_knobsConfigJson2["default"].frictionErrorNegative),
                balance: new _knobControl2["default"](_knobsConfigJson2["default"].balance)
            };

            this.lightbulbs = {
                work: new _lighbulb2["default"](),
                heating: new _lighbulb2["default"]()
            };

            this.toggles = {
                transformer: new _toggle2["default"](),
                heating: new _toggle2["default"](),
                work: new _toggle2["default"](),
                gyroscope: new _toggle2["default"](),
                control: new _toggle2["default"]()
            };

            this.secToBeHeated = this.calculateHeatingTime(this.weather.temperature);
            this.isHeatingNeeded = this.defineIfHeatingNeeded(this.secToBeHeated);
            this.invalidateTimeoutPromise();
        }
    }, {
        key: "toggleWork",
        value: function toggleWork() {
            this.lightbulbs.work.toggle();
        }
    }, {
        key: "toggleHeating",
        value: function toggleHeating() {
            var _this = this;

            if (this.isHeatingNeeded && !this.heatingTimeoutPromise) {
                this.toggleHeatingLightbulb();
                this.heatingTimeoutPromise = this.timeout(function () {
                    _this.disableHeatingLightbulb();
                    _this.setAsHeated();
                    _this.showModalDialog();
                }, this.secToBeHeated * 1000);
            } else {
                this.disableHeatingLightbulb();
                this.invalidateTimeoutPromise();
            }
        }
    }, {
        key: "toggleHeatingLightbulb",
        value: function toggleHeatingLightbulb() {
            this.lightbulbs.heating.toggle();
        }
    }, {
        key: "disableHeatingLightbulb",
        value: function disableHeatingLightbulb() {
            this.lightbulbs.heating.disable();
        }
    }, {
        key: "setAsHeated",
        value: function setAsHeated() {
            this.isHeatingNeeded = false;
            this.heatingTimeoutPromise = null;
        }
    }, {
        key: "invalidateTimeoutPromise",
        value: function invalidateTimeoutPromise() {
            this.timeout.cancel(this.heatingTimeoutPromise);
            this.heatingTimeoutPromise = null;
        }
    }, {
        key: "showModalDialog",
        value: function showModalDialog() {
            var alert = this.dialog.alert().title("ГКУ 1Т121").content("Обогрев ГКУ 1T121 окончен! \n Необходимо отключить тумблер обогрева!").ok('Закрыть');

            this.dialog.show(alert)["finally"](function () {
                alert = undefined;
            });
        }
    }, {
        key: "randomInRange",
        value: function randomInRange(min, max) {
            return Math.floor(Math.random() * (max + 1 - min) + min);
        }
    }, {
        key: "calculateHeatingTime",
        value: function calculateHeatingTime(temperature) {
            return temperature < 0 ? -temperature + 10 : 0;
        }
    }, {
        key: "defineIfHeatingNeeded",
        value: function defineIfHeatingNeeded(secToBeHeated) {
            return !!secToBeHeated;
        }
    }]);

    return T121Service;
})();

exports["default"] = T121Service;
module.exports = exports["default"];

},{"./knob-control":57,"./knobs.config.json":58,"./lighbulb":59,"./toggle":61}],61:[function(require,module,exports){
(function (global){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var _moment = (typeof window !== "undefined" ? window['moment'] : typeof global !== "undefined" ? global['moment'] : null);

var _moment2 = _interopRequireDefault(_moment);

var Toggle = (function () {
    function Toggle() {
        _classCallCheck(this, Toggle);

        this.isEnabled = false;
    }

    _createClass(Toggle, [{
        key: "toggle",
        value: function toggle() {
            this.isEnabled = !this.isEnabled;
        }
    }, {
        key: "disable",
        value: function disable() {
            this.isEnabled = false;
        }
    }, {
        key: "enable",
        value: function enable() {
            this.isEnabled = true;
        }
    }]);

    return Toggle;
})();

exports["default"] = Toggle;
;
module.exports = exports["default"];

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],62:[function(require,module,exports){
module.exports = "<div class=\"t121-body\">\n    <div t121-left-sidebar></div>\n    <div class=\"t121-wrapper\">\n        <div class=\"topbar\" ng-if=\"ctrl.examiner.isTrainingMode()\">\n            <p class=\"instruction\"> {{ctrl.examiner.currentStep.instruction}}</p>\n        </div>\n        <div class=\"t121\">\n            <div class=\"t121-toggles\">\n                <div t121-toggle class=\"transformer\"\n                     ng-class=\"{'hint-closest' : ctrl.examiner.isTrainingMode() && ctrl.examiner.currentStep.id === 't121-step5.0'}\"\n                     ng-mousedown=\"ctrl.examiner.testAllBefore('t121-step5.0')\"\n                     ng-click=\"ctrl.examiner.nextStepTo('t121-step5.0')\"\n                     model=\"ctrl.t121.toggles.transformer\">\n                </div>\n                <div t121-toggle class=\"heating\"\n                     ng-class=\"{'hint-closest' : ctrl.examiner.isTrainingMode() && ctrl.examiner.currentStep.id === 't121-step4.0'}\"\n                     ng-mousedown=\"ctrl.examiner.testAllBefore('t121-step4.0')\"\n                     ng-click=\"ctrl.t121.toggleHeating(); ctrl.examiner.nextStepTo('t121-step4.0')\"\n                     model=\"ctrl.t121.toggles.heating\">\n                </div>\n                <div class=\"t121-lightbulbs\">\n                    <div t121-lightbulb class=\"work-lightbulb green\"\n                         model=\"ctrl.t121.lightbulbs.work\">\n                    </div>\n                    <div t121-lightbulb class=\"heating-lightbulb white\"\n                         model=\"ctrl.t121.lightbulbs.heating\">\n                    </div>\n                </div>\n                <div t121-toggle class=\"gyroscope\"\n                     ng-class=\"{'hint-closest' : ctrl.examiner.isTrainingMode() && ctrl.examiner.currentStep.id === 't121-step8.0'}\"\n                     ng-mousedown=\"ctrl.examiner.testAllBefore('t121-step8.0')\"\n                     ng-click=\"ctrl.examiner.nextStepTo('t121-step8.0')\"\n                     model=\"ctrl.t121.toggles.gyroscope\">\n                </div>\n                <div t121-toggle class=\"work\"\n                     ng-class=\"{'hint-closest' : ctrl.examiner.isTrainingMode() && ctrl.examiner.currentStep.id === 't121-step6.0'}\"\n                     ng-mousedown=\"ctrl.examiner.testAllBefore('t121-step6.0')\"\n                     ng-click=\"ctrl.t121.toggleWork(); ctrl.examiner.nextStepTo('t121-step6.0')\"\n                     model=\"ctrl.t121.toggles.work\">\n                </div>\n                <div t121-toggle class=\"control\"\n                     ng-class=\"{'hint-closest' : ctrl.examiner.isTrainingMode() && ctrl.examiner.currentStep.id === 't121-step7.0'}\"\n                     ng-mousedown=\"ctrl.examiner.testAllBefore('t121-step7.0')\"\n                     ng-click=\"ctrl.examiner.nextStepTo('t121-step7.0')\"\n                     model=\"ctrl.t121.toggles.control\">\n                </div>\n            </div>\n            <div class=\"t121-knob-controls\">\n                <div t121-knob-control class=\"friction-error-positive\"\n                     ng-class=\"{hint : ctrl.examiner.isTrainingMode() && ctrl.examiner.currentStep.id === 't121-step2.0'}\"\n                     ng-mousedown=\"ctrl.examiner.testAllBefore('t121-step2.0')\"\n                     ng-mouseup=\"ctrl.examiner.nextStepTo('t121-step2.0')\"\n                     model=\"ctrl.t121.knobControls.frictionErrorPositive\">\n                </div>\n                <div t121-knob-control class=\"latitude\"\n                     ng-class=\"{hint : ctrl.examiner.isTrainingMode() && ctrl.examiner.currentStep.id === 't121-step1.0'}\"\n                     ng-mousedown=\"ctrl.examiner.testAllBefore('t121-step1.0')\"\n                     ng-mouseup=\"ctrl.examiner.nextStepTo('t121-step1.0')\"\n                     model=\"ctrl.t121.knobControls.latitude\">\n                </div>\n                <div t121-knob-control class=\"friction-error-negative\"\n                     ng-class=\"{hint : ctrl.examiner.isTrainingMode() && ctrl.examiner.currentStep.id === 't121-step2.1'}\"\n                     ng-mousedown=\"ctrl.examiner.testAllBefore('t121-step2.1')\"\n                     ng-mouseup=\"ctrl.examiner.nextStepTo('t121-step2.1')\"\n                     model=\"ctrl.t121.knobControls.frictionErrorNegative\">\n                </div>\n                <div t121-knob-control class=\"balance\"\n                     ng-class=\"{hint : ctrl.examiner.isTrainingMode() && ctrl.examiner.currentStep.id === 't121-step3.0'}\"\n                     ng-mousedown=\"ctrl.examiner.testAllBefore('t121-step3.0')\"\n                     ng-mouseup=\"ctrl.examiner.nextStepTo('t121-step3.0')\"\n                     model=\"ctrl.t121.knobControls.balance\">\n                </div>\n            </div>\n        </div>\n    </div>\n    <div t121-right-sidebar></div>\n</div>";

},{}],63:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var T121ToggleCtrl = function T121ToggleCtrl() {
  _classCallCheck(this, T121ToggleCtrl);
};

exports["default"] = T121ToggleCtrl;
module.exports = exports["default"];

},{}],64:[function(require,module,exports){
(function (global){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var _angular = (typeof window !== "undefined" ? window['angular'] : typeof global !== "undefined" ? global['angular'] : null);

var _angular2 = _interopRequireDefault(_angular);

var _controller = require("./controller");

var _controller2 = _interopRequireDefault(_controller);

exports["default"] = _angular2["default"].module("t121.toggle", []).directive("t121Toggle", function () {
    return {
        bindToController: true,
        controller: _controller2["default"],
        controllerAs: 'ctrl',
        replace: true,
        restrict: "A",
        scope: {
            model: "="
        },
        template: require("./template.html")
    };
});
module.exports = exports["default"];

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./controller":63,"./template.html":65}],65:[function(require,module,exports){
module.exports = "<div class=\"t121-toggle-wrapper\">\n    <div class=\"t121-toggle\" ng-click=\"ctrl.model.toggle()\">\n    </div>\n</div>";

},{}],66:[function(require,module,exports){
module.exports = "<ui-view></ui-view>";

},{}],67:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var WeatherService = (function () {
    function WeatherService() {
        _classCallCheck(this, WeatherService);

        this.reset();
    }

    _createClass(WeatherService, [{
        key: "reset",
        value: function reset() {
            var minTemperature = -30;
            var maxTemperature = -1;
            this.temperature = this.randomInRange(minTemperature, maxTemperature);
        }
    }, {
        key: "randomInRange",
        value: function randomInRange(min, max) {
            return Math.floor(Math.random() * (max + 1 - min) + min);
        }
    }]);

    return WeatherService;
})();

exports["default"] = WeatherService;
module.exports = exports["default"];

},{}]},{},[4]);
